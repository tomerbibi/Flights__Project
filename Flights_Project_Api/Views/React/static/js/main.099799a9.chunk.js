(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{44:function(e,t,i){},45:function(e,t,i){},69:function(e,t,i){"use strict";i.r(t);var a=i(1),n=i(38),r=i.n(n),s=(i(44),i(6)),c=i(7),o=i(9),l=i(8),d=(i(45),i(4)),u=i.n(d),h=i(2),j=i.n(h),p=i(18),b=i(3),O=i(11),m=i(0),x=i(5),g=i(17),f=i.n(g),v=function(e){Object(o.a)(i,e);var t=Object(l.a)(i);function i(){var e;Object(s.a)(this,i);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={flights:[],countries:{},airlines:{}},e}return Object(c.a)(i,[{key:"cancleTicket",value:function(e){var t=this;u.a.get("https://localhost:44335/api/Customer/getflight/".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}}).then((function(i){Date.parse(i.data.departureTime)<new Date?(console.log("that flight have already left"),f()("you cant cancle a ticket of a flight that already left")):u.a.get("https://localhost:44335/api/Customer/GetMyTicketByFlight/".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}}).then((function(e){u.a.post("https://localhost:44335/api/Customer/cancleticket/".concat(e.data.id),"",{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}}).then((function(e){t.getMyTickets()}))}))}))}},{key:"getMyTickets",value:function(){var e=this;u.a.get("https://localhost:44335/api/Customer/getAllmyflights",{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}}).then((function(t){var i=0;e.setState(e.state.flights=t.data.map((function(t){return i++,Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{children:["Airline Company : ",e.state.airlines[t.airlineCompanyID]]}),Object(m.jsxs)("p",{children:["Origin Country : ",e.state.countries["".concat(t.originCountryID)]]}),Object(m.jsxs)("p",{children:["Destination Country : ",e.state.countries["".concat(t.destinationCountryID)]]}),Object(m.jsxs)("p",{children:["Departure Time : ",t.departureTime]}),Object(m.jsxs)("p",{children:["Landing Time : ",t.landingTime]}),Object(m.jsxs)("p",{children:["Remaining Tickets : ",t.remainingTickets]}),Object(m.jsx)(x.a,{onClick:function(){return e.cancleTicket(t.id)},children:"cancle ticket"}),Object(m.jsx)("hr",{})]},i)})))}))}},{key:"GetCountries",value:function(){var e=this;u.a.get("https://localhost:44335/api/Country/getcountries",{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}}).then((function(t){var i={};t.data.forEach((function(e){i["".concat(e.id)]="".concat(e.name)})),e.setState(e.state.countries=i)})).then((function(t){e.getMyTickets()}))}},{key:"GetAirlines",value:function(){var e=this;u.a.get("https://localhost:44335/api/Customer/getallairlinecompanies",{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}}).then((function(t){var i={};t.data.forEach((function(e){i["".concat(e.id)]="".concat(e.name)})),e.setState(e.state.airlines=i)})).then(this.GetCountries())}},{key:"componentDidMount",value:function(){this.GetAirlines()}},{key:"render",value:function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("nav",{children:Object(m.jsxs)("div",{children:[Object(m.jsx)("a",{children:"CoolFlightsPlace"}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/MyTickets",children:"MyTickets"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/PersonalDetails",children:"PersonalDetails"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/Flights",children:"Flights"})})]})]})}),this.state.flights]})}}]),i}(a.Component),y=function(e){Object(o.a)(i,e);var t=Object(l.a)(i);function i(){var e;Object(s.a)(this,i);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={initialUserName:"",initialPassword:"",initialFisrtName:"",initialLastName:"",initialEmail:"",initialPhoneNumber:"",initialadress:"",initialCreditCardNumber:""},e}return Object(c.a)(i,[{key:"ChangeDetails",value:function(e){e.preventDefault(),u.a.post("https://localhost:44335/api/Customer/updatecustomerdetails",{Username:j()("#usernameidd").valueOf().val(),Password:j()("#passwordidd").valueOf().val(),FisrtName:j()("#firstnameid").valueOf().val(),LastName:j()("#lastnameid").valueOf().val(),email:j()("#emailid").valueOf().val(),PhoneNumber:j()("#phonenumid").valueOf().val(),adress:j()("#adressid").valueOf().val(),CreditCardNumber:j()("#creditcardid").valueOf().val()},{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}})}},{key:"componentDidMount",value:function(){var e=this;u.a.get("https://localhost:44335/api/Customer/getmydetails",{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}}).then((function(t){e.setState(e.setState({initialUserName:t.data.username})),e.setState(e.setState({initialPassword:t.data.password})),e.setState(e.setState({initialFisrtName:t.data.fisrtName})),e.setState(e.setState({initialLastName:t.data.lastName})),e.setState(e.setState({initialEmail:t.data.email})),e.setState(e.setState({initialadress:t.data.adress})),e.setState(e.setState({initialCreditCardNumber:t.data.creditCardNumber})),e.setState(e.setState({initialPhoneNumber:t.data.phoneNumber}))}))}},{key:"render",value:function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("nav",{children:Object(m.jsxs)("div",{children:[Object(m.jsx)("a",{children:"CoolFlightsPlace"}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/MyTickets",children:"MyTickets"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/PersonalDetails",children:"PersonalDetails"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/Flights",children:"Flights"})})]})]})}),Object(m.jsxs)("form",{name:"details",children:[Object(m.jsxs)("p",{children:["Username",Object(m.jsx)("input",{defaultValue:this.state.initialUserName,type:"text",id:"usernameidd",required:!0})]}),Object(m.jsxs)("p",{children:["Password",Object(m.jsx)("input",{defaultValue:this.state.initialPassword,type:"text",id:"passwordidd",required:!0})]}),Object(m.jsxs)("p",{children:["First Name",Object(m.jsx)("input",{defaultValue:this.state.initialFisrtName,type:"text",id:"firstnameid",required:!0})]}),Object(m.jsxs)("p",{children:["Last Name",Object(m.jsx)("input",{defaultValue:this.state.initialLastName,type:"text",id:"lastnameid",required:!0})]}),Object(m.jsxs)("p",{children:["Email",Object(m.jsx)("input",{defaultValue:this.state.initialEmail,type:"text",id:"emailid",required:!0})]}),Object(m.jsxs)("p",{children:["Phone Number",Object(m.jsx)("input",{defaultValue:this.state.initialPhoneNumber,type:"text",id:"phonenumid",required:!0})]}),Object(m.jsxs)("p",{children:["Adress",Object(m.jsx)("input",{defaultValue:this.state.initialadress,type:"text",id:"adressid",required:!0})]}),Object(m.jsxs)("p",{children:["Credit Card Number",Object(m.jsx)("input",{defaultValue:this.state.initialCreditCardNumber,type:"text",id:"creditcardid",required:!0})]}),Object(m.jsx)(x.a,{onClick:this.ChangeDetails,children:"Edit"})]})]})}}]),i}(a.Component),C=function(e){Object(o.a)(i,e);var t=Object(l.a)(i);function i(){var e;Object(s.a)(this,i);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={myFlights:[],countries:{}},e}return Object(c.a)(i,[{key:"CancleFlight",value:function(e){var t=this;u.a.get("https://localhost:44335/api/Airline/getflight/".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}}).then((function(i){Date.parse(i.data.departureTime)<new Date?f()("you cant cancle a flight that already left"):u.a.delete("https://localhost:44335/api/Airline/cancleflight/".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}}).then((function(e){t.GetMyFlights()}))}))}},{key:"AddFlight",value:function(){u.a.put("https://localhost:44335/api/Airline/createflight",{ID:parseFloat("0"),AirlineCompanyID:parseFloat(JSON.parse("{"+String(p.a.decode(String("".concat(localStorage.JWT)).split(".")[1]).split(",")[5])+"}").idd),OriginCountryID:parseInt(j()("#originCountryID").valueOf().val()),DestinationCountryID:parseInt(j()("#destinationCountryID").valueOf().val()),DepartureTime:j()("#departuretimeid").valueOf().val(),LandingTime:j()("#landingimeid").valueOf().val(),RemainingTickets:parseInt(j()("#remainingticketsid").valueOf().val())},{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}})}},{key:"GetCountries",value:function(){var e=this;u.a.get("https://localhost:44335/api/Country/getcountries",{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}}).then((function(t){var i={};t.data.forEach((function(e){i["".concat(e.id)]="".concat(e.name)})),e.setState(e.state.countries=i)})).then((function(t){e.GetMyFlights()}))}},{key:"GetMyFlights",value:function(){var e=this;u.a.get("https://localhost:44335/api/Airline/getallcompanyflights",{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}}).then((function(t){e.setState(e.state.myFlights=t.data.map((function(t){return Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{children:["Airline Company : ",JSON.parse("{"+String(p.a.decode(String("".concat(localStorage.JWT)).split(".")[1]).split(",")[6])+"}").name]}),Object(m.jsxs)("p",{children:["Origin Country : ",e.state.countries["".concat(t.originCountryID)]]}),Object(m.jsxs)("p",{children:["Destination Country : ",e.state.countries["".concat(t.destinationCountryID)]]}),Object(m.jsxs)("p",{children:["Departure Time : ",t.departureTime]}),Object(m.jsxs)("p",{children:["Landing Time : ",t.landingTime]}),Object(m.jsxs)("p",{children:["Remaining Tickets : ",t.remainingTickets]}),Object(m.jsx)(x.a,{onClick:function(){return e.CancleFlight(t.id)},children:"Cancle Flight"}),Object(m.jsx)("hr",{})]},t.id)})))}))}},{key:"componentDidMount",value:function(){this.GetCountries(),j.a.ajax({url:"https://localhost:44335/api/Country/getcountries"}).then((function(e){var t=j()("#originCountryID"),i=j()("#destinationCountryID");j.a.each(e,(function(e,a){t.append('<option value="'.concat(a.id,'">').concat(a.name,"</option>")),i.append('<option value="'.concat(a.id,'">').concat(a.name,"</option>"))}))})),u.a.get("https://localhost:44335/api/Airline/getallairlinecompanies",{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}}).then((function(e){var t=j()("#airlinecomp");j.a.each(e.data,(function(e,i){t.append('<option value="'.concat(i.id,'">').concat(i.name,"</option>"))}))}))}},{key:"render",value:function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("nav",{children:Object(m.jsxs)("div",{children:[Object(m.jsx)("a",{children:"CoolFlightsPlace"}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/Airline",children:"Airline"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/AirlineDetails",children:"AirlineDetails"})})]})]})}),this.state.myFlights,Object(m.jsx)("div",{children:Object(m.jsxs)("form",{name:"details",onSubmit:function(e){e.preventDefault()},children:[Object(m.jsxs)("p",{children:["Origin Country ",Object(m.jsx)("select",{name:"orgCountry",id:"originCountryID"})]}),Object(m.jsxs)("p",{children:["Destination Country ",Object(m.jsx)("select",{name:"destCountry",id:"destinationCountryID"})]}),Object(m.jsxs)("p",{children:["Departure Time",Object(m.jsx)("input",{type:"date",id:"departuretimeid",required:!0})]}),Object(m.jsxs)("p",{children:["Landing Time",Object(m.jsx)("input",{type:"date",id:"landingimeid",required:!0})]}),Object(m.jsxs)("p",{children:["Remaining Tickets",Object(m.jsx)("input",{type:"text",id:"remainingticketsid",required:!0})]}),Object(m.jsx)(x.a,{onClick:this.AddFlight,children:"Add Flight"})]})})]})}}]),i}(a.Component),D=function(e){Object(o.a)(i,e);var t=Object(l.a)(i);function i(){var e;Object(s.a)(this,i);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={initialUserName:"",initialPassword:"",initialName:"",initialEmail:"",initialCountryId:""},e}return Object(c.a)(i,[{key:"ChangeDetails",value:function(e){e.preventDefault(),u.a.post("https://localhost:44335/api/Airline/updatedetails",{Username:j()("#usernameidd").valueOf().val(),Password:j()("#passwordidd").valueOf().val(),Name:j()("#nameid").valueOf().val(),email:j()("#emailid").valueOf().val(),CountryId:parseInt(j()("#countryidid").valueOf().val())},{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}})}},{key:"componentDidMount",value:function(){var e=this;u.a.get("https://localhost:44335/api/Airline/getmydetails",{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}}).then((function(t){e.setState(e.setState({initialUserName:t.data.username})),e.setState(e.setState({initialPassword:t.data.password})),e.setState(e.setState({initialName:t.data.name})),e.setState(e.setState({initialEmail:t.data.email})),e.setState(e.setState({initialCountryId:t.data.countryId}))})),j.a.ajax({url:"https://localhost:44335/api/Country/getcountries"}).then((function(e){var t=j()("#countryid");j.a.each(e,(function(e,i){t.append('<option value="'.concat(i.id,'">').concat(i.name,"</option>"))}))}))}},{key:"render",value:function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("nav",{children:Object(m.jsxs)("div",{children:[Object(m.jsx)("a",{children:"CoolFlightsPlace"}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/Airline",children:"Airline"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/AirlineDetails",children:"AirlineDetails"})})]})]})}),Object(m.jsxs)("form",{name:"details",children:[Object(m.jsxs)("p",{children:["Username",Object(m.jsx)("input",{defaultValue:this.state.initialUserName,type:"text",id:"usernameidd",required:!0})]}),Object(m.jsxs)("p",{children:["Password",Object(m.jsx)("input",{defaultValue:this.state.initialPassword,type:"text",id:"passwordidd",required:!0})]}),Object(m.jsxs)("p",{children:["Name",Object(m.jsx)("input",{defaultValue:this.state.initialName,type:"text",id:"nameid",required:!0})]}),Object(m.jsxs)("p",{children:["Email",Object(m.jsx)("input",{defaultValue:this.state.initialEmail,type:"text",id:"emailid",required:!0})]}),Object(m.jsxs)("p",{children:["Country",Object(m.jsx)("select",{name:"countrytxt",id:"countryid"})]}),Object(m.jsx)(x.a,{onClick:this.ChangeDetails,children:"Edit"})]})]})}}]),i}(a.Component),A=function(e){Object(o.a)(i,e);var t=Object(l.a)(i);function i(){var e;Object(s.a)(this,i);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={requests:[],countries:{}},e}return Object(c.a)(i,[{key:"AcceptRequest",value:function(e,t,i,a,n,r){var s=this;u.a.put("https://localhost:44335/api/Admin/acceptairline",{ID:parseFloat("0"),Name:t,CountryID:i,UserName:a,Password:n,Email:r},{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}}).then((function(t){s.DenyRequest(e)}))}},{key:"DenyRequest",value:function(e){var t=this;u.a.delete("https://localhost:44335/api/Admin/denyrequest/".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}}).then((function(e){t.GetRequests()}))}},{key:"GetRequests",value:function(){var e=this;u.a.get("https://localhost:44335/api/Admin/getrequests",{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}}).then((function(t){e.setState(e.state.requests=t.data.map((function(t){return Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{children:["Country : ",e.state.countries["".concat(t.countryID)]]}),Object(m.jsxs)("p",{children:["Email : ",t.email]}),Object(m.jsxs)("p",{children:["Name : ",t.name]}),Object(m.jsxs)("p",{children:["Password : ",t.password]}),Object(m.jsxs)("p",{children:["Username : ",t.userName]}),Object(m.jsx)(x.a,{onClick:function(){return e.DenyRequest(t.id)},children:"Deny"}),Object(m.jsx)(x.a,{onClick:function(){return e.AcceptRequest(t.id,t.name,t.countryID,t.userName,t.password,t.email)},children:"Accept"}),Object(m.jsx)("hr",{})]},t.id)})))}))}},{key:"GetCountries",value:function(){var e=this;u.a.get("https://localhost:44335/api/Country/getcountries",{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}}).then((function(t){var i={};t.data.forEach((function(e){i["".concat(e.id)]="".concat(e.name)})),e.setState(e.state.countries=i)})).then((function(t){e.GetRequests()}))}},{key:"componentDidMount",value:function(){this.GetCountries()}},{key:"render",value:function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("nav",{children:Object(m.jsxs)("div",{children:[Object(m.jsx)("a",{children:"CoolFlightsPlace"}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/AirlineRequests",children:"AirlineRequests"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/EditAirlines",children:"EditAirlines"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/EditCustomers",children:"EditCustomers"})})]})]})}),this.state.requests]})}}]),i}(a.Component),T=function(e){Object(o.a)(i,e);var t=Object(l.a)(i);function i(){var e;Object(s.a)(this,i);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={customers:[],countries:{},airlines:[],ID:0,Name:"",CountryID:0,UserId:0},e}return Object(c.a)(i,[{key:"ChangeDetails",value:function(e,t,i,a){u.a.post("https://localhost:44335/api/Admin/updateairlinedetails",{ID:e,Name:t,CountryID:i,UserId:a},{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}})}},{key:"GetAirlines",value:function(){var e=this;u.a.get("https://localhost:44335/api/Admin/getallairlinecompanies",{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}}).then((function(t){e.setState(e.state.customers=t.data.map((function(t){return Object(m.jsxs)("div",{children:[Object(m.jsxs)("form",{name:"details",onSubmit:function(e){e.preventDefault()},children:[Object(m.jsxs)("p",{children:["Name",Object(m.jsx)("input",{defaultValue:t.name,type:"text",id:"usernameidd",required:!0})]}),Object(m.jsxs)("p",{children:["Country",Object(m.jsx)("input",{defaultValue:e.state.countries["".concat(t.countryID)],type:"text",id:"passwordidd",required:!0})]}),Object(m.jsxs)("p",{children:["User ID",Object(m.jsx)("input",{defaultValue:t.userId,type:"text",id:"nameid",required:!0})]}),Object(m.jsx)(x.a,{onClick:function(){return e.ChangeDetails(t.id,t.name,t.countryID,t.userId)},children:"Edit"})]}),Object(m.jsx)("hr",{})]},t.id)})))}))}},{key:"GetCountries",value:function(){var e=this;u.a.get("https://localhost:44335/api/Country/getcountries",{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}}).then((function(t){var i={};t.data.forEach((function(e){i["".concat(e.id)]="".concat(e.name)})),e.setState(e.state.countries=i)})).then((function(t){e.GetAirlines()}))}},{key:"componentDidMount",value:function(){this.GetCountries()}},{key:"render",value:function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("nav",{children:Object(m.jsxs)("div",{children:[Object(m.jsx)("a",{children:"CoolFlightsPlace"}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/AirlineRequests",children:"AirlineRequests"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/EditAirlines",children:"EditAirlines"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/EditCustomers",children:"EditCustomers"})})]})]})}),this.state.customers]})}}]),i}(a.Component),k=function(e){Object(o.a)(i,e);var t=Object(l.a)(i);function i(e){var a;return Object(s.a)(this,i),(a=t.call(this,e)).state={Flights:[],countries:{},airlines:{}},a.GetAirlines(),a}return Object(c.a)(i,[{key:"PurchaseTicket",value:function(e){u.a.get("https://localhost:44335/api/Customer/getflight/".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}}).then((function(t){Date.parse(t.data.departureTime)<new Date?f()("you cant purchase a ticket of a flight that already left"):u.a.post("https://localhost:44335/api/Customer/purchaseticket/".concat(e),"",{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}})}))}},{key:"GetFlights",value:function(){var e=this;u.a.get("https://localhost:44335/api/Customer/getallflights",{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}}).then((function(t){e.setState(e.state.Flights=t.data.map((function(t){return Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{children:["Airline Company : ",e.state.airlines[t.airlineCompanyID]]}),Object(m.jsxs)("p",{children:["Origin Country : ",e.state.countries["".concat(t.originCountryID)]]}),Object(m.jsxs)("p",{children:["Destination Country : ",e.state.countries["".concat(t.destinationCountryID)]]}),Object(m.jsxs)("p",{children:["Departure Time : ",t.departureTime]}),Object(m.jsxs)("p",{children:["Landing Time : ",t.landingTime]}),Object(m.jsxs)("p",{children:["Remaining Tickets : ",t.remainingTickets]}),Object(m.jsx)(x.a,{onClick:function(){return e.PurchaseTicket(t.id)},children:"Purchase Ticket"}),Object(m.jsx)("hr",{})]},t.id)})))}))}},{key:"GetCountries",value:function(){var e=this;u.a.get("https://localhost:44335/api/Country/getcountries",{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}}).then((function(t){var i={};t.data.forEach((function(e){i["".concat(e.id)]="".concat(e.name)})),e.setState(e.state.countries=i)})).then((function(t){e.GetFlights()}))}},{key:"GetAirlines",value:function(){var e=this;u.a.get("https://localhost:44335/api/Customer/getallairlinecompanies",{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}}).then((function(t){var i={};t.data.forEach((function(e){i["".concat(e.id)]="".concat(e.name)})),e.setState(e.state.airlines=i)}))}},{key:"componentDidMount",value:function(){this.GetCountries(),j.a.ajax({url:"https://localhost:44335/api/Country/getcountries"}).then((function(e){var t=j()("#originCountryID"),i=j()("#destinationCountryID");j.a.each(e,(function(e,a){t.append('<option value="'.concat(a.id,'">').concat(a.name,"</option>")),i.append('<option value="'.concat(a.id,'">').concat(a.name,"</option>"))}))})),u.a.get("https://localhost:44335/api/Customer/getallairlinecompanies",{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}}).then((function(e){var t=j()("#airlinecomp");j.a.each(e.data,(function(e,i){t.append('<option value="'.concat(i.id,'">').concat(i.name,"</option>"))}))}))}},{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{children:[Object(m.jsx)("nav",{children:Object(m.jsxs)("div",{children:[Object(m.jsx)("a",{children:"CoolFlightsPlace"}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/MyTickets",children:"MyTickets"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/PersonalDetails",children:"PersonalDetails"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/Flights",children:"Flights"})})]})]})}),Object(m.jsxs)("p",{children:["Origin Country ",Object(m.jsx)("select",{name:"orgCountry",id:"originCountryID"})]}),Object(m.jsxs)("p",{children:["Destination Country ",Object(m.jsx)("select",{name:"destCountry",id:"destinationCountryID"})]}),Object(m.jsxs)("p",{children:["Departure Time",Object(m.jsx)("input",{type:"date",id:"departuretimeid",required:!0})]}),Object(m.jsxs)("p",{children:["Landing Time",Object(m.jsx)("input",{type:"date",id:"landingimeid",required:!0})]}),Object(m.jsxs)("p",{children:["Airline Company ",Object(m.jsx)("select",{name:"airline",id:"airlinecomp"})]}),Object(m.jsx)(x.a,{onClick:function(){return u.a.get("https://localhost:44335/api/Customer/getallflights",{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}}).then((function(t){e.setState(e.state.Flights=t.data.map((function(t){if(t.originCountryID==parseInt(j()("#originCountryID").valueOf().val())&&t.airlineCompanyID==parseInt(j()("#airlinecomp").valueOf().val())&&t.destinationCountryID==parseInt(j()("#destinationCountryID").valueOf().val())&&(0==j()("#departuretimeid").valueOf().val().length||Date.parse(j()("#departuretimeid").valueOf().val())-108e5<=Date.parse(t.departureTime)&&Date.parse(j()("#departuretimeid").valueOf().val())+756e5>=Date.parse(t.departureTime))&&(0==j()("#landingimeid").valueOf().val().length||Date.parse(j()("#landingimeid").valueOf().val())-108e5<=Date.parse(t.landingTime)&&Date.parse(j()("#landingimeid").valueOf().val())+756e5>=Date.parse(t.landingTime)))return Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{children:["Airline Company : ",e.state.airlines[t.airlineCompanyID]]}),Object(m.jsxs)("p",{children:["Origin Country : ",e.state.countries["".concat(t.originCountryID)]]}),Object(m.jsxs)("p",{children:["Destination Country : ",e.state.countries["".concat(t.destinationCountryID)]]}),Object(m.jsxs)("p",{children:["Departure Time : ",t.departureTime]}),Object(m.jsxs)("p",{children:["Landing Time : ",t.landingTime]}),Object(m.jsxs)("p",{children:["Remaining Tickets : ",t.remainingTickets]}),Object(m.jsx)(x.a,{onClick:function(){return e.PurchaseTicket(t.id)},children:"Purchase Ticket"}),Object(m.jsx)("hr",{})]},t.id)})))}))},children:"Search "}),this.state.Flights]})}}]),i}(a.Component),S=(i(20),function(e){Object(o.a)(i,e);var t=Object(l.a)(i);function i(){var e;Object(s.a)(this,i);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={redirect:"none"},e.tryLogIn=function(){var t={Name:j()("#usernameid").valueOf().val(),Password:j()("#passwordid").valueOf().val()};u.a.post("https://localhost:44335/api/Auth/token",t).then((function(t){localStorage.setItem("JWT",t.data),"administrator"===JSON.parse("{"+String(p.a.decode(String(t.data).split(".")[1]).split(",")[4])+"}").roletype&&e.redirect("admin"),"customer"===JSON.parse("{"+String(p.a.decode(String(t.data).split(".")[1]).split(",")[4])+"}").roletype&&e.redirect("customer"),"airlinecompany"===JSON.parse("{"+String(p.a.decode(String(t.data).split(".")[1]).split(",")[4])+"}").roletype&&e.redirect("airline"),localStorage.setItem("Role",JSON.parse("{"+String(p.a.decode(String(t.data).split(".")[1]).split(",")[4])+"}").roletype)})).catch((function(e){f()("wrong username or password please try again")}))},e.ContinueAsGuest=function(){u.a.post("https://localhost:44335/api/Auth/token",{Name:"justATokenForAnonymousUsers528379028750",Password:"k"}).then((function(e){localStorage.setItem("JWT",e.data)})).then(e.redirect("anonymous"))},e.Register=function(){window.location.href="Html_Pages/CustomerSignUp.html"},e}return Object(c.a)(i,[{key:"redirect",value:function(e){this.setState({redirect:e})}},{key:"render",value:function(){return Object(m.jsx)("div",{onSubmit:function(e){e.preventDefault()},children:Object(m.jsxs)("form",{children:[Object(m.jsxs)("p",{children:["Username",Object(m.jsx)("input",{type:"text",id:"usernameid",required:!0})]}),Object(m.jsxs)("p",{children:["Password",Object(m.jsx)("input",{type:"text",id:"passwordid",required:!0})]}),Object(m.jsx)(x.a,{onClick:this.tryLogIn,children:"sign in"}),"airline"==this.state.redirect&&Object(m.jsx)(O.a,{to:"/AirlineDashboard"})||"customer"==this.state.redirect&&Object(m.jsx)(O.a,{to:"/CustomerDashboard"})||"admin"==this.state.redirect&&Object(m.jsx)(O.a,{to:"/AdminDashboard"}),Object(m.jsx)("p",{}),Object(m.jsx)(x.a,{onClick:this.ContinueAsGuest,children:"continue as guest"}),"anonymous"==this.state.redirect&&Object(m.jsx)(O.a,{to:"/AnonymousUser"}),Object(m.jsx)(x.a,{onClick:this.Register,children:"register"}),"register"==this.state.redirect&&Object(m.jsx)(O.a,{to:"~/Html_Pages/CustomerSignUp"})]})})}}]),i}(a.Component)),I=function(e){Object(o.a)(i,e);var t=Object(l.a)(i);function i(){return Object(s.a)(this,i),t.apply(this,arguments)}return Object(c.a)(i,[{key:"render",value:function(){return Object(m.jsx)("nav",{children:Object(m.jsxs)("div",{children:[Object(m.jsx)("a",{children:"CoolFlightsPlace"}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/Airline",children:"Airline"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/AirlineDetails",children:"AirlineDetails"})})]})]})})}}]),i}(a.Component),F=function(e){Object(o.a)(i,e);var t=Object(l.a)(i);function i(){return Object(s.a)(this,i),t.apply(this,arguments)}return Object(c.a)(i,[{key:"render",value:function(){return Object(m.jsx)("nav",{children:Object(m.jsxs)("div",{children:[Object(m.jsx)("a",{children:"CoolFlightsPlace"}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/AirlineRequests",children:"AirlineRequests"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/EditAirlines",children:"EditAirlines"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/EditCustomers",children:"EditCustomers"})})]})]})})}}]),i}(a.Component),N=function(e){Object(o.a)(i,e);var t=Object(l.a)(i);function i(){return Object(s.a)(this,i),t.apply(this,arguments)}return Object(c.a)(i,[{key:"render",value:function(){return Object(m.jsx)("nav",{children:Object(m.jsxs)("div",{children:[Object(m.jsx)("a",{children:"CoolFlightsPlace"}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/MyTickets",children:"MyTickets"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/PersonalDetails",children:"PersonalDetails"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/Flights",children:"Flights"})})]})]})})}}]),i}(a.Component),P=function(e){Object(o.a)(i,e);var t=Object(l.a)(i);function i(){var e;Object(s.a)(this,i);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={customers:[]},e}return Object(c.a)(i,[{key:"ChangeDetails",value:function(e){e.preventDefault(),u.a.post("https://localhost:44335/api/Admin/updatecustomerdetails",{First_name:j()("#usernameidd").valueOf().val(),Last_name:j()("#passwordidd").valueOf().val(),Adress:j()("#nameid").valueOf().val(),Phone:j()("#emailid").valueOf().val(),Credit_card_no:j()("#countryidid").valueOf().val(),User_id:parseInt(j()("#userid").valueOf().val())},{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}})}},{key:"GetRequests",value:function(){var e=this;u.a.get("https://localhost:44335/api/Admin/getallcustomers",{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}}).then((function(t){e.setState(e.state.customers=t.data.map((function(t){return Object(m.jsxs)("div",{children:[Object(m.jsxs)("form",{name:"details",children:[Object(m.jsxs)("p",{children:["First Name",Object(m.jsx)("input",{defaultValue:t.first_name,type:"text",id:"usernameidd",required:!0})]}),Object(m.jsxs)("p",{children:["Last Name",Object(m.jsx)("input",{defaultValue:t.last_name,type:"text",id:"passwordidd",required:!0})]}),Object(m.jsxs)("p",{children:["Adress",Object(m.jsx)("input",{defaultValue:t.adress,type:"text",id:"nameid",required:!0})]}),Object(m.jsxs)("p",{children:["Phone",Object(m.jsx)("input",{defaultValue:t.phone,type:"text",id:"emailid",required:!0})]}),Object(m.jsxs)("p",{children:["Credit Card Number",Object(m.jsx)("input",{defaultValue:t.credit_card_no,type:"text",id:"countryidid",required:!0})]}),Object(m.jsxs)("p",{children:["User ID",Object(m.jsx)("input",{defaultValue:t.user_id,type:"text",id:"userid",required:!0})]}),Object(m.jsx)(x.a,{onClick:e.ChangeDetails,children:"Edit"})]}),Object(m.jsx)("hr",{})]},t.id)})))}))}},{key:"componentDidMount",value:function(){this.GetRequests()}},{key:"render",value:function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("nav",{children:Object(m.jsxs)("div",{children:[Object(m.jsx)("a",{children:"CoolFlightsPlace"}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/AirlineRequests",children:"AirlineRequests"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/EditAirlines",children:"EditAirlines"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/EditCustomers",children:"EditCustomers"})})]})]})}),this.state.customers]})}}]),i}(a.Component),q=function(e){Object(o.a)(i,e);var t=Object(l.a)(i);function i(e){var a;return Object(s.a)(this,i),(a=t.call(this,e)).state={Flights:[],countries:{},airlines:{}},a.GetAirlines(),a}return Object(c.a)(i,[{key:"PurchaseTicket",value:function(){f()("you need to log in order to purchase a ticket")}},{key:"GetFlights",value:function(){var e=this;u.a.get("https://localhost:44335/api/Anonymous/getallflights",{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}}).then((function(t){e.setState(e.state.Flights=t.data.map((function(t){return Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{children:["Airline Company : ",e.state.airlines[t.airlineCompanyID]]}),Object(m.jsxs)("p",{children:["Origin Country : ",e.state.countries["".concat(t.originCountryID)]]}),Object(m.jsxs)("p",{children:["Destination Country : ",e.state.countries["".concat(t.destinationCountryID)]]}),Object(m.jsxs)("p",{children:["Departure Time : ",t.departureTime]}),Object(m.jsxs)("p",{children:["Landing Time : ",t.landingTime]}),Object(m.jsxs)("p",{children:["Remaining Tickets : ",t.remainingTickets]}),Object(m.jsx)(x.a,{onClick:e.PurchaseTicket,children:"Purchase Ticket"}),Object(m.jsx)("hr",{})]},t.id)})))}))}},{key:"GetCountries",value:function(){var e=this;u.a.get("https://localhost:44335/api/Country/getcountries",{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}}).then((function(t){var i={};t.data.forEach((function(e){i["".concat(e.id)]="".concat(e.name)})),e.setState(e.state.countries=i)})).then((function(t){e.GetFlights()}))}},{key:"GetAirlines",value:function(){var e=this;u.a.get("https://localhost:44335/api/Anonymous/getallairlinecompanies",{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}}).then((function(t){var i={};t.data.forEach((function(e){i["".concat(e.id)]="".concat(e.name)})),e.setState(e.state.airlines=i)}))}},{key:"componentDidMount",value:function(){this.GetCountries(),j.a.ajax({url:"https://localhost:44335/api/Country/getcountries"}).then((function(e){var t=j()("#originCountryID"),i=j()("#destinationCountryID");j.a.each(e,(function(e,a){t.append('<option value="'.concat(a.id,'">').concat(a.name,"</option>")),i.append('<option value="'.concat(a.id,'">').concat(a.name,"</option>"))}))})),u.a.get("https://localhost:44335/api/Anonymous/getallairlinecompanies",{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}}).then((function(e){var t=j()("#airlinecomp");j.a.each(e.data,(function(e,i){t.append('<option value="'.concat(i.id,'">').concat(i.name,"</option>"))}))}))}},{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{children:[Object(m.jsx)("nav",{children:Object(m.jsxs)("div",{children:[Object(m.jsx)("a",{children:"CoolFlightsPlace"}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/MyTickets",children:"MyTickets"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/PersonalDetails",children:"PersonalDetails"})}),Object(m.jsx)("li",{children:Object(m.jsx)(b.b,{to:"/Flights",children:"Flights"})})]})]})}),Object(m.jsxs)("p",{children:["Origin Country ",Object(m.jsx)("select",{name:"orgCountry",id:"originCountryID"})]}),Object(m.jsxs)("p",{children:["Destination Country ",Object(m.jsx)("select",{name:"destCountry",id:"destinationCountryID"})]}),Object(m.jsxs)("p",{children:["Departure Time",Object(m.jsx)("input",{type:"date",id:"departuretimeid",required:!0})]}),Object(m.jsxs)("p",{children:["Landing Time",Object(m.jsx)("input",{type:"date",id:"landingimeid",required:!0})]}),Object(m.jsxs)("p",{children:["Airline Company ",Object(m.jsx)("select",{name:"airline",id:"airlinecomp"})]}),Object(m.jsx)(x.a,{onClick:function(){return u.a.get("https://localhost:44335/api/Anonymous/getallflights",{headers:{Authorization:"Bearer ".concat(localStorage.JWT)}}).then((function(t){e.setState(e.state.Flights=t.data.map((function(t){if(t.originCountryID==parseInt(j()("#originCountryID").valueOf().val())&&t.airlineCompanyID==parseInt(j()("#airlinecomp").valueOf().val())&&t.destinationCountryID==parseInt(j()("#destinationCountryID").valueOf().val())&&(0==j()("#departuretimeid").valueOf().val().length||Date.parse(j()("#departuretimeid").valueOf().val())-108e5<=Date.parse(t.departureTime)&&Date.parse(j()("#departuretimeid").valueOf().val())+756e5>=Date.parse(t.departureTime))&&(0==j()("#landingimeid").valueOf().val().length||Date.parse(j()("#landingimeid").valueOf().val())-108e5<=Date.parse(t.landingTime)&&Date.parse(j()("#landingimeid").valueOf().val())+756e5>=Date.parse(t.landingTime)))return Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{children:["Airline Company : ",e.state.airlines[t.airlineCompanyID]]}),Object(m.jsxs)("p",{children:["Origin Country : ",e.state.countries["".concat(t.originCountryID)]]}),Object(m.jsxs)("p",{children:["Destination Country : ",e.state.countries["".concat(t.destinationCountryID)]]}),Object(m.jsxs)("p",{children:["Departure Time : ",t.departureTime]}),Object(m.jsxs)("p",{children:["Landing Time : ",t.landingTime]}),Object(m.jsxs)("p",{children:["Remaining Tickets : ",t.remainingTickets]}),Object(m.jsx)(x.a,{onClick:e.PurchaseTicket,children:"Purchase Ticket"}),Object(m.jsx)("hr",{})]},t.id)})))}))},children:"Search "}),this.state.Flights]})}}]),i}(a.Component),J=function(e){Object(o.a)(i,e);var t=Object(l.a)(i);function i(){return Object(s.a)(this,i),t.apply(this,arguments)}return Object(c.a)(i,[{key:"render",value:function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(b.a,{children:Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)("header",{className:"App",children:[Object(m.jsx)(O.b,{exact:!0,path:"/",component:S}),Object(m.jsx)(O.b,{path:"/MyTickets",component:v}),Object(m.jsx)(O.b,{path:"/PersonalDetails",component:y}),Object(m.jsx)(O.b,{path:"/Airline",component:C}),Object(m.jsx)(O.b,{path:"/AirlineDetails",component:D}),Object(m.jsx)(O.b,{path:"/AirlineRequests",component:A}),Object(m.jsx)(O.b,{path:"/EditAirlines",component:T}),Object(m.jsx)(O.b,{path:"/Flights",component:k}),Object(m.jsx)(O.b,{path:"/AirlineDashboard",component:I}),Object(m.jsx)(O.b,{path:"/AdminDashboard",component:F}),Object(m.jsx)(O.b,{path:"/CustomerDashboard",component:N}),Object(m.jsx)(O.b,{path:"/EditCustomers",component:P}),Object(m.jsx)(O.b,{path:"/AnonymousUser",component:q})]})})})})}}]),i}(a.Component);r.a.render(Object(m.jsx)(J,{}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.099799a9.chunk.js.map